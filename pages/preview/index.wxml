<!-- pages/preview/index.wxml -->
<view class="page">
  <view class="head"><text class="title">音频预览</text></view>

  <block wx:for="{{items}}" wx:key="id">
    <view class="card">
      <view class="row">
        <text class="tag">{{item.type === 'word' ? '单词' : '对话'}}</text>
        <text class="text">{{item.speaker ? (item.speaker + ': ') : ''}}{{item.text}}</text>
      </view>
      <view class="row">
        <audio wx:if="{{item.realUrl}}" src="{{item.realUrl}}" controls></audio>
        <text wx:else class="err">重签失败，无法播放</text>
      </view>
    </view>
  </block>

  <view wx:if="{{!items || items.length === 0}}" class="empty">暂无可预览项</view>
</view>
